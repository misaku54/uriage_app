<header class="navbar fixed-top navbar-expand-md navbar-light shadow-sm" style="background-color: #ffffff;">
  <div class="container-fluid">
    <%= link_to "LiLy", root_path, class: "navbar-brand logo", data: { turbo: false } %>
    <% if logged_in? %>
      <div class="toggle-menu">
        <div class="acordion">
          <div class="acordion__ttl"><i class="fa-solid fa-database" style="color: #ffffff;"></i> マスタ</div>
          <div class="acordion__cnt">
            <li><%= link_to 'メーカー', user_makers_path(current_user), data: { turbo: false } %></li>
            <li><%= link_to '商品分類', user_producttypes_path(current_user), data: { turbo: false } %></li>
          </div>
          <div class="acordion__ttl"><i class="fa-solid fa-cash-register" style="color: #ffffff;"></i> 売上登録</div>
          <div class="acordion__cnt">
            <li><%= link_to '売上一覧', user_sales_path(current_user), data: { turbo: false } %></li>
          </div>
          <div class="acordion__ttl"><i class="fa-solid fa-table" style="color: #ffffff;"></i> 売上分析</div>
          <div class="acordion__cnt">
            <li><%= link_to '年別集計', user_yearly_aggregate_path(current_user), data: { turbo: false } %></li>
            <li><%= link_to '月別集計', user_monthly_aggregate_path(current_user), data: { turbo: false } %></li>
            <li><%= link_to '日別集計', user_daily_aggregate_path(current_user), data: { turbo: false } %></li>
          </div>
          <% if current_user.admin? %>
            <div class="acordion__ttl"><i class="fa-solid fa-user" style="color: #ffffff;"></i> 管理者操作</div>
            <div class="acordion__cnt">
              <li><%= link_to "ユーザー管理", admin_users_path, data: { turbo: false } %></li>
            </div>
          <% end %>
          <div class="acordion__ttl"><i class="fa-solid fa-user" style="color: #ffffff;"></i> <%= current_user.name %>さん</div>
          <div class="acordion__cnt">
            <li><%= link_to "ユーザー情報", current_user , data: { turbo: false } %></li>
            <li><%= link_to "ログアウト", logout_path, data: { "turbo-method": :delete, turbo_confirm: 'ログアウトしますか？' } %></li>
          </div>
        </div>
        <div class="humbager">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <% if current_user.admin? %>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                管理者操作
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
                <li><%= link_to "ユーザー管理", admin_users_path, class: "dropdown-item", data: { turbo: false } %></li>
              </ul>
            </li>
          <% end %>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <%= current_user.name %>さん<span class="caret"></span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
              <li><%= link_to "ユーザー情報", current_user, class: "dropdown-item", data: { turbo: false } %></li>
              <li><%= link_to "ログアウト", logout_path, data: { "turbo-method": :delete, turbo_confirm: 'ログアウトしますか？' }, class: "dropdown-item" %></li>
            </ul>
          </li>
        </ul>
      </div>
    <% else %>
      <div class="justify-content-end">
        <ul class="navbar-nav">
          <li class="nav-item">
            <%= link_to "ログイン", login_path, class: "nav-link", data: { turbo: false } %>
          </li>
        </ul>
      </div>
    <% end %>
  </div>
</header>